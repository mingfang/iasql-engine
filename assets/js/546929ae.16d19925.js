"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[388],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),l=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,c=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=l(a),m=r,h=p["".concat(c,".").concat(m)]||p[m]||u[m]||s;return a?n.createElement(h,o(o({ref:t},d),{},{components:a})):n.createElement(h,o({ref:t},d))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=m;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[p]="string"==typeof e?e:r,o[1]=i;for(var l=2;l<s;l++)o[l]=a[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},2658:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var n=a(7462),r=(a(7294),a(3905));const s={sidebar_position:1,slug:"/aws"},o="Manage an AWS Account",i={unversionedId:"how-to/aws",id:"version-0.0.22/how-to/aws",title:"Manage an AWS Account",description:"IaSQL requires AWS credentials to manage the resources within the account. Credentials via an IAM user in AWS with **Programmatic Access**. IAM users can be created through the console/UI or CLI. Ensure that the IAM role has sufficient permissions to deploy and manage the infrastructure resources you are interested in. AdministratorAccess provides full access to deploy and manage all types of resources. ReadOnlyAccess access provides access to inspect all of the different kinds of existing resources but does not modify them or create new ones. The former provides full IaSQL apply and sync support, while the latter only provides access to sync, and running apply will fail. Read more about apply and sync here.",source:"@site/versioned_docs/version-0.0.22/how-to/aws.md",sourceDirName:"how-to",slug:"/aws",permalink:"/docs/aws",draft:!1,tags:[],version:"0.0.22",sidebarPosition:1,frontMatter:{sidebar_position:1,slug:"/aws"},sidebar:"tutorialSidebar",previous:{title:"AWS Route53",permalink:"/docs/aws_route53"},next:{title:"Connecting to PostgreSQL",permalink:"/docs/connect"}},c={},l=[{value:"View existing AWS CLI credentials",id:"view-existing-aws-cli-credentials",level:2},{value:"Add the necessary cloud services to the hosted database",id:"add-the-necessary-cloud-services-to-the-hosted-database",level:2}],d={toc:l};function p(e){let{components:t,...s}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"manage-an-aws-account"},"Manage an AWS Account"),(0,r.kt)("p",null,"IaSQL requires AWS credentials to manage the resources within the account. Credentials via an ",(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html"},"IAM user")," in AWS with ",(0,r.kt)("strong",{parentName:"p"},"Programmatic Access"),". IAM users can be created through the ",(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html#id_users_create_console"},"console/UI")," or ",(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html#id_users_create_cliwpsapi"},"CLI"),". Ensure that the IAM role has sufficient permissions to deploy and manage the infrastructure resources you are interested in. ",(0,r.kt)("inlineCode",{parentName:"p"},"AdministratorAccess")," provides full access to deploy and manage all types of resources. ",(0,r.kt)("inlineCode",{parentName:"p"},"ReadOnlyAccess")," access provides access to inspect all of the different kinds of existing resources but does not modify them or create new ones. The former provides full IaSQL ",(0,r.kt)("inlineCode",{parentName:"p"},"apply")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"sync")," support, while the latter only provides access to ",(0,r.kt)("inlineCode",{parentName:"p"},"sync"),", and running ",(0,r.kt)("inlineCode",{parentName:"p"},"apply")," will fail. Read more about ",(0,r.kt)("inlineCode",{parentName:"p"},"apply")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"sync")," ",(0,r.kt)("a",{parentName:"p",href:"/docs/apply-and-sync"},"here"),"."),(0,r.kt)("p",null,"There are two parts to each ",(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/general/latest/gr/aws-sec-cred-types.html#access-keys-and-secret-access-keys"},"access key"),", which you\u2019ll see in the IAM console/CLI after you create it, an id and a secret."),(0,r.kt)("img",{width:440,src:a(8564).Z}),(0,r.kt)("h2",{id:"view-existing-aws-cli-credentials"},"View existing AWS CLI credentials"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html"},"AWS CLI")," creates a plaintext credentials file on your machine that contains the AWS access keys that the CLI has access to. The file is named ",(0,r.kt)("inlineCode",{parentName:"p"},"credentials")," and is located inside the ",(0,r.kt)("inlineCode",{parentName:"p"},".aws/")," directory in your home directory."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ cat ~/.aws/credentials\n\n[default]\naws_access_key_id = <YOUR_ACCESS_KEY_ID>\naws_secret_access_key = <YOUR_SECRET_ACCESS_KEY>\n")),(0,r.kt)("h2",{id:"add-the-necessary-cloud-services-to-the-hosted-database"},"Add the necessary cloud services to the hosted database"),(0,r.kt)("p",null,"Connect to your database and use the ",(0,r.kt)("inlineCode",{parentName:"p"},"iasql_install")," IaSQL PostgreSQL ",(0,r.kt)("a",{parentName:"p",href:"/docs/function"},"function")," which is already loaded into your database to install different ",(0,r.kt)("a",{parentName:"p",href:"/docs/module"},"modules")," and start managing different parts of your cloud account. Many different clients can be used to ",(0,r.kt)("a",{parentName:"p",href:"/docs/connect"},"connect")," to a PostgreSQL database."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"To see the available modules use the ",(0,r.kt)("inlineCode",{parentName:"p"},"modules_list")," ",(0,r.kt)("a",{parentName:"p",href:"/docs/function"},"function")," which will return a virtual table")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * from iasql_install(\n   'aws_iam',\n   'aws_cloudwatch',\n   'aws_ecr',\n   'aws_ecs_fargate',\n   'aws_elb',\n   'aws_security_group',\n   'aws_vpc'\n);\n")))}p.isMDXComponent=!0},8564:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/connect-manual-9d65e32fb131ba288d53e87002ac3923.png"}}]);