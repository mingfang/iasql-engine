"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4052],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(n),d=a,f=u["".concat(l,".").concat(d)]||u[d]||m[d]||s;return n?r.createElement(f,i(i({ref:t},p),{},{components:n})):r.createElement(f,i({ref:t},p))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,i=new Array(s);i[0]=d;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[u]="string"==typeof e?e:a,i[1]=o;for(var c=2;c<s;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6021:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const s={id:"aws_ecs_fargate_entity_service.Service",title:"Table: service",displayed_sidebar:"docs",sidebar_label:"SQL",sidebar_position:0,custom_edit_url:null},i=void 0,o={unversionedId:"reference/classes/aws_ecs_fargate_entity_service.Service",id:"reference/classes/aws_ecs_fargate_entity_service.Service",title:"Table: service",description:"Table to manage AWS ECS services. You can use an Amazon ECS service to run and maintain a specified number of instances of a",source:"@site/docs/reference/classes/aws_ecs_fargate_entity_service.Service.md",sourceDirName:"reference/classes",slug:"/reference/classes/aws_ecs_fargate_entity_service.Service",permalink:"/docs/next/reference/classes/aws_ecs_fargate_entity_service.Service",draft:!1,editUrl:null,tags:[],version:"current",sidebarPosition:0,frontMatter:{id:"aws_ecs_fargate_entity_service.Service",title:"Table: service",displayed_sidebar:"docs",sidebar_label:"SQL",sidebar_position:0,custom_edit_url:null},sidebar:"docs"},l={},c=[{value:"Columns",id:"columns",level:2}],p={toc:c};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Table to manage AWS ECS services. You can use an Amazon ECS service to run and maintain a specified number of instances of a\ntask definition simultaneously in an Amazon ECS cluster. If one of your tasks fails or stops, the Amazon ECS service\nscheduler launches another instance of your task definition to replace it. This helps maintain your desired number of tasks in the service."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"Example"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql",metastring:'TheButton[Manage an ECS service]="Manage an ECS service"',"TheButton[Manage":!0,an:!0,ECS:!0,"service]":'"Manage','service"':!0},"INSERT INTO service (\"name\", desired_count, subnets, assign_public_ip, cluster_id, task_definition_id, target_group_id)\nVALUES ('service_name', 1, (select array(select subnet_id from subnet inner join vpc on vpc.id = subnet.vpc_id where is_default = true and vpc.region = 'us-east-1' limit 3)),\n'ENABLED', (SELECT id FROM cluster WHERE cluster_name = '${clusterName}'), (select id from task_definition where family = 'task-definition' and region = 'us-east-1'\norder by revision desc limit 1), (SELECT id FROM target_group WHERE target_group_name = 'target-group' and region = 'us-east-1'));\n\nSELECT * FROM service WHERE name = 'service-name';\n\nDELETE FROM service WHERE name = 'service-name';\n")),(0,a.kt)("p",null,(0,a.kt)("button",{className:"button button--primary button--lg margin-bottom--lg",onClick:()=>window.open("https://app.iasql.com/#/button/Manage%20an%20ECS%20service/INSERT%20INTO%20service%20%28%22name%22%2C%20desired_count%2C%20subnets%2C%20assign_public_ip%2C%20cluster_id%2C%20task_definition_id%2C%20target_group_id%29%0AVALUES%20%28%27service_name%27%2C%201%2C%20%28select%20array%28select%20subnet_id%20from%20subnet%20inner%20join%20vpc%20on%20vpc.id%20%3D%20subnet.vpc_id%20where%20is_default%20%3D%20true%20and%20vpc.region%20%3D%20%27us-east-1%27%20limit%203%29%29%2C%0A%27ENABLED%27%2C%20%28SELECT%20id%20FROM%20cluster%20WHERE%20cluster_name%20%3D%20%27%24%7BclusterName%7D%27%29%2C%20%28select%20id%20from%20task_definition%20where%20family%20%3D%20%27task-definition%27%20and%20region%20%3D%20%27us-east-1%27%0Aorder%20by%20revision%20desc%20limit%201%29%2C%20%28SELECT%20id%20FROM%20target_group%20WHERE%20target_group_name%20%3D%20%27target-group%27%20and%20region%20%3D%20%27us-east-1%27%29%29%3B%0A%0ASELECT%20*%20FROM%20service%20WHERE%20name%20%3D%20%27service-name%27%3B%0A%0ADELETE%20FROM%20service%20WHERE%20name%20%3D%20%27service-name%27%3B","_blank")},"Manage an ECS service")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"See"))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/iasql/iasql-engine/blob/b2c2383b73d73f5cdf75c867d334e80cdf40caa1/test/modules/aws-ecs-integration.ts#L516"},"https://github.com/iasql/iasql-engine/blob/b2c2383b73d73f5cdf75c867d334e80cdf40caa1/test/modules/aws-ecs-integration.ts#L516")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs_services.html"},"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs_services.html"))),(0,a.kt)("h2",{id:"columns"},"Columns"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Optional")," ",(0,a.kt)("strong",{parentName:"p"},"arn"),": ",(0,a.kt)("inlineCode",{parentName:"p"},"string")),(0,a.kt)("p",null,"AWS ARN for the service"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("strong",{parentName:"p"},"assign","_","public","_","ip"),": ",(0,a.kt)("a",{parentName:"p",href:"/docs/next/reference/enums/aws_ecs_fargate_entity_service.AssignPublicIp"},(0,a.kt)("inlineCode",{parentName:"a"},"assign_public_ip"))),(0,a.kt)("p",null,"Whether to assign a public IP to the service"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Optional")," ",(0,a.kt)("strong",{parentName:"p"},"cluster"),": ",(0,a.kt)("a",{parentName:"p",href:"/docs/next/reference/classes/aws_ecs_fargate_entity_cluster.Cluster"},(0,a.kt)("inlineCode",{parentName:"a"},"cluster"))),(0,a.kt)("p",null,"Reference to the cluster where the service belongs to"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Optional")," ",(0,a.kt)("strong",{parentName:"p"},"desired","_","count"),": ",(0,a.kt)("inlineCode",{parentName:"p"},"number")),(0,a.kt)("p",null,"The desired number of instantiations of the task definition to keep running on the service."),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("strong",{parentName:"p"},"name"),": ",(0,a.kt)("inlineCode",{parentName:"p"},"string")),(0,a.kt)("p",null,"Name of the container definition"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("strong",{parentName:"p"},"region"),": ",(0,a.kt)("inlineCode",{parentName:"p"},"string")),(0,a.kt)("p",null,"Region for the ECS service"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("strong",{parentName:"p"},"security","_","groups"),": ",(0,a.kt)("a",{parentName:"p",href:"/docs/next/reference/classes/aws_security_group_entity.SecurityGroup"},(0,a.kt)("inlineCode",{parentName:"a"},"security_group")),"[]"),(0,a.kt)("p",null,"Reference to all the security groups used by the service"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"See"))),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/clients/client-ecs/interfaces/service.html#networkconfiguration"},"https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/clients/client-ecs/interfaces/service.html#networkconfiguration")),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Optional")," ",(0,a.kt)("strong",{parentName:"p"},"status"),": ",(0,a.kt)("inlineCode",{parentName:"p"},"string")),(0,a.kt)("p",null,"Current status of the service"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("strong",{parentName:"p"},"subnets"),": ",(0,a.kt)("inlineCode",{parentName:"p"},"string"),"[]"),(0,a.kt)("p",null,"Ids of all the VPC subnets used by the service"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"See"))),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/clients/client-ecs/interfaces/service.html#networkconfiguration"},"https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/clients/client-ecs/interfaces/service.html#networkconfiguration")),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Optional")," ",(0,a.kt)("strong",{parentName:"p"},"target","_","group"),": ",(0,a.kt)("a",{parentName:"p",href:"/docs/next/reference/classes/aws_elb_entity_target_group.TargetGroup"},(0,a.kt)("inlineCode",{parentName:"a"},"target_group"))),(0,a.kt)("p",null,"Reference of the target group that will be associated with the service, to expose it via load balancers"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("inlineCode",{parentName:"strong"},"See"))),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/register-multiple-targetgroups.html"},"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/register-multiple-targetgroups.html")),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Optional")," ",(0,a.kt)("strong",{parentName:"p"},"task"),": ",(0,a.kt)("a",{parentName:"p",href:"/docs/next/reference/classes/aws_ecs_fargate_entity_task_definition.TaskDefinition"},(0,a.kt)("inlineCode",{parentName:"a"},"task_definition"))),(0,a.kt)("p",null,"Reference to the task definition that uses the service"))}u.isMDXComponent=!0}}]);